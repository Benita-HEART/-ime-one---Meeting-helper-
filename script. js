function calculateTimeDifference() {
    // Get the cities selected by the user
    let city1 = document.getElementById('city1').value;
    let city2 = document.getElementById('city2').value;

    // Fetch the current time for the selected cities from WorldTimeAPI
    let url1 = `https://worldtimeapi.org/api/timezone/${city1}`;
    let url2 = `https://worldtimeapi.org/api/timezone/${city2}`;

    // Fetching the time for city 1
    fetch(url1)
        .then(response => response.json())
        .then(data1 => {
            let time1 = new Date(data1.datetime);

            // Fetching the time for city 2
            fetch(url2)
                .then(response => response.json())
                .then(data2 => {
                    let time2 = new Date(data2.datetime);

                    // Calculate the time difference in hours
                    let diffInMilliseconds = time1 - time2;
                    let diffInHours = diffInMilliseconds / (1000 * 60 * 60);

                    // Display the result
                    let result = `
                        <p>Current time in ${city1.replace("/", " ").split("/").join(", ")}: ${time1.toLocaleString()}</p>
                        <p>Current time in ${city2.replace("/", " ").split("/").join(", ")}: ${time2.toLocaleString()}</p>
                        <p>Time difference: ${Math.abs(diffInHours)} hours</p>
                    `;
                    document.getElementById('result').innerHTML = result;
                });
        });
}
